import{d as ie,u as ce,a as de,r as p,c as g,o as re,x as u,f as e,t as s,g as l,e as o,h as i,p as ue,E as pe,n as b,j as d,b as S,B as A,am as ve,i as _e,q as he,s as fe,v as me,F as V,y as C,z as ge,A as D,C as be,ad as ye,ae as $e,af as we,M as ke,an as Pe,P as G,ao as Ve,J as r,G as Ce,_ as Be}from"./index-EBZBD7IP.js";/* empty css               *//* empty css                  *//* empty css                 *//* empty css                        *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";import{f as c,d as Re}from"./format-DgO97vlP.js";const Me={class:"portfolio"},Te={class:"portfolio-content"},ze={class:"overview-section"},Se={class:"section-title"},Ae={class:"overview-grid"},De={class:"overview-card total-value"},Ee={class:"card-header"},We={class:"card-title"},Ue={class:"card-value"},Fe={class:"overview-card"},Ie={class:"card-header"},He={class:"card-title"},Ne={class:"card-value"},Oe={class:"card-subtitle"},Ye={class:"overview-card"},je={class:"card-header"},Ge={class:"card-title"},Le={class:"card-subtitle"},qe={class:"overview-card"},Je={class:"card-header"},Ke={class:"card-title"},Qe={class:"card-value"},Xe={class:"card-subtitle"},Ze={class:"allocation-section"},xe={class:"section-header"},et={class:"section-title"},tt={class:"view-toggle"},at={class:"allocation-content"},st={key:0,class:"chart-container"},lt={class:"chart-wrapper"},ot={class:"pie-chart"},nt={viewBox:"0 0 200 200",class:"w-full h-full"},it=["stroke","stroke-dasharray","stroke-dashoffset"],ct={class:"chart-center"},dt={class:"center-value"},rt={class:"center-label"},ut={class:"chart-legend"},pt={class:"legend-info"},vt={class:"legend-name"},_t={class:"legend-details"},ht={class:"legend-value"},ft={class:"legend-percentage"},mt={key:1,class:"allocation-table"},gt={class:"asset-cell"},bt={class:"asset-info"},yt={class:"asset-name"},$t={class:"asset-symbol"},wt={class:"percentage-cell"},kt={class:"percentage-bar"},Pt={class:"percentage-text"},Vt={class:"performance-section"},Ct={class:"section-header"},Bt={class:"section-title"},Rt={class:"time-range"},Mt={class:"performance-chart"},Tt={class:"chart-placeholder"},zt={viewBox:"0 0 800 300",class:"w-full h-full"},St=["points"],At=["cx","cy"],Dt={class:"chart-stats"},Et={class:"stat-item"},Wt={class:"stat-label"},Ut={class:"stat-value"},Ft={class:"stat-item"},It={class:"stat-label"},Ht={class:"stat-value"},Nt={class:"stat-item"},Ot={class:"stat-label"},Yt={class:"stat-value"},jt={class:"holdings-section"},Gt={class:"section-header"},Lt={class:"section-title"},qt={class:"holdings-filter"},Jt={class:"holdings-list"},Kt={class:"holding-header"},Qt={class:"holding-info"},Xt={class:"holding-name"},Zt={class:"holding-type"},xt={class:"holding-value"},ea={class:"value-amount"},ta={class:"holding-details"},aa={class:"detail-grid"},sa={class:"detail-item"},la={class:"detail-label"},oa={class:"detail-value"},na={class:"detail-item"},ia={class:"detail-label"},ca={class:"detail-value"},da={class:"detail-item"},ra={class:"detail-label"},ua={class:"detail-value"},pa={class:"detail-item"},va={class:"detail-label"},_a={key:0,class:"holding-actions"},ha={key:1,class:"holding-actions"},fa={key:2,class:"holding-actions"},ma={class:"history-section"},ga={class:"section-header"},ba={class:"section-title"},ya={class:"history-filter"},$a={class:"history-table"},wa={class:"asset-cell"},ka={class:"asset-name"},Pa={class:"table-pagination"},Va=ie({__name:"Portfolio",setup(Ca){const{t:E}=ce(),B=Ve(),L=de(),W=p(!1),R=p("chart"),U=p("30d"),y=p("all"),$=p("all"),w=p(1),M=p(10),v=p({totalValue:25750.5,totalInvested:24e3,totalReturns:1750.5,returnPercentage:7.29,totalChange:2.45,avgAPY:8.2}),T=p([{name:"Savings Vault",symbol:"sWRMB",balance:12500,value:15e3,percentage:58.3,color:"#6366f1",change24h:1.2},{name:"Bond Pool",symbol:"WRMB",balance:8e3,value:8500,percentage:33,color:"#10b981",change24h:.8},{name:"Wrapped Tokens",symbol:"sWRMB",balance:2e3,value:2250.5,percentage:8.7,color:"#f59e0b",change24h:-.5}]),F=p([{id:"1",name:"Savings Vault Position",symbol:"sWRMB",type:"savings",balance:12500,value:15e3,avgPrice:1.15,currentPrice:1.2,pnl:625,change:4.35},{id:"2",name:"Active Bonds",symbol:"WRMB",type:"bonds",balance:8e3,value:8500,avgPrice:1,currentPrice:1.06,pnl:480,change:6.25},{id:"3",name:"Wrapped sRMB",symbol:"sWRMB",type:"wrapped",balance:2e3,value:2250.5,avgPrice:1.1,currentPrice:1.125,pnl:50,change:2.27}]),I=p([{id:"1",type:"deposit",asset:"Savings Vault",symbol:"WRMB",amount:5e3,value:5e3,timestamp:Date.now()-2*24*60*60*1e3,hash:"0x1234567890abcdef1234567890abcdef12345678"},{id:"2",type:"swap",asset:"Wrap Manager",symbol:"sRMB",amount:2e3,value:2e3,timestamp:Date.now()-5*24*60*60*1e3,hash:"0xabcdef1234567890abcdef1234567890abcdef12"},{id:"3",type:"deposit",asset:"Bond Pool",symbol:"USDT",amount:8e3,value:8e3,timestamp:Date.now()-7*24*60*60*1e3,hash:"0x567890abcdef1234567890abcdef1234567890ab"}]),H=p([{x:50,y:250},{x:150,y:200},{x:250,y:180},{x:350,y:220},{x:450,y:160},{x:550,y:140},{x:650,y:120},{x:750,y:100}]),z=p({highest:26500,lowest:23800,volatility:12.5}),q=g(()=>I.value.length),J=g(()=>y.value==="all"?F.value:F.value.filter(a=>a.type===y.value)),K=g(()=>{let a=I.value;$.value!=="all"&&(a=a.filter(f=>f.type===$.value));const n=(w.value-1)*M.value,_=n+M.value;return a.slice(n,_)}),Q=g(()=>{let a=0;return T.value.map(n=>{const _=n.percentage/100*314,f={length:_,offset:-a,color:n.color};return a+=_,f})}),X=g(()=>H.value.map(a=>`${a.x},${a.y}`).join(" ")),Z=a=>{switch(a){case"savings":return"primary";case"bonds":return"success";case"wrapped":return"warning";default:return"info"}},x=a=>{switch(a){case"deposit":return"success";case"withdraw":return"warning";case"swap":return"primary";default:return"info"}},ee=()=>{B.push("/savings")},te=()=>{B.push("/bonds")},ae=()=>{B.push("/wrap")},se=a=>{const n=`https://etherscan.io/tx/${a}`;window.open(n,"_blank")},le=a=>{w.value=a},oe=async()=>{W.value=!0;try{await new Promise(a=>setTimeout(a,1e3)),G.success(E("portfolio.dataRefreshed"))}catch(a){console.error("Failed to refresh data:",a),G.error(E("portfolio.refreshFailed"))}finally{W.value=!1}};return re(async()=>{L.isConnected&&await oe()}),(a,n)=>{const _=pe,f=fe,N=me,h=ge,O=be,m=ye,Y=$e,j=we,k=ke,ne=Pe;return r(),u("div",Me,[e("div",Te,[e("div",ze,[e("h2",Se,s(a.$t("portfolio.overview")),1),e("div",Ae,[e("div",De,[e("div",Ee,[e("h3",We,s(a.$t("portfolio.totalValue")),1),l(_,{class:"card-icon"},{default:o(()=>[l(i(ue))]),_:1})]),e("div",Ue," $"+s(i(c)(v.value.totalValue)),1),e("div",{class:b(["card-change",{positive:v.value.totalChange>=0,negative:v.value.totalChange<0}])},[l(_,null,{default:o(()=>[(r(),S(A(v.value.totalChange>=0?"ArrowUp":"ArrowDown")))]),_:1}),d(" "+s(i(c)(Math.abs(v.value.totalChange)))+"% (24h) ",1)],2)]),e("div",Fe,[e("div",Ie,[e("h3",He,s(a.$t("portfolio.totalInvested")),1),l(_,{class:"card-icon"},{default:o(()=>[l(i(ve))]),_:1})]),e("div",Ne," $"+s(i(c)(v.value.totalInvested)),1),e("div",Oe,s(a.$t("portfolio.principalAmount")),1)]),e("div",Ye,[e("div",je,[e("h3",Ge,s(a.$t("portfolio.totalReturns")),1),l(_,{class:"card-icon"},{default:o(()=>[l(i(_e))]),_:1})]),e("div",{class:b(["card-value",{positive:v.value.totalReturns>=0,negative:v.value.totalReturns<0}])}," $"+s(i(c)(v.value.totalReturns)),3),e("div",Le,s(i(c)(v.value.returnPercentage))+"% "+s(a.$t("portfolio.totalReturn")),1)]),e("div",qe,[e("div",Je,[e("h3",Ke,s(a.$t("portfolio.avgAPY")),1),l(_,{class:"card-icon"},{default:o(()=>[l(i(he))]),_:1})]),e("div",Qe,s(i(c)(v.value.avgAPY))+"% ",1),e("div",Xe,s(a.$t("portfolio.weightedAverage")),1)])])]),e("div",Ze,[e("div",xe,[e("h2",et,s(a.$t("portfolio.assetAllocation")),1),e("div",tt,[l(N,{modelValue:R.value,"onUpdate:modelValue":n[0]||(n[0]=t=>R.value=t),size:"small"},{default:o(()=>[l(f,{label:"chart"},{default:o(()=>[d(s(a.$t("portfolio.chart")),1)]),_:1}),l(f,{label:"table"},{default:o(()=>[d(s(a.$t("portfolio.table")),1)]),_:1})]),_:1},8,["modelValue"])])]),e("div",at,[R.value==="chart"?(r(),u("div",st,[e("div",lt,[e("div",ot,[(r(),u("svg",nt,[(r(!0),u(V,null,C(Q.value,(t,P)=>(r(),u("circle",{key:P,cx:"100",cy:"100",r:"80",fill:"none",stroke:t.color,"stroke-width":"20","stroke-dasharray":`${t.length} ${314-t.length}`,"stroke-dashoffset":t.offset,class:"transition-all duration-500"},null,8,it))),128))])),e("div",ct,[e("div",dt,"$"+s(i(c)(v.value.totalValue)),1),e("div",rt,s(a.$t("portfolio.totalValue")),1)])])]),e("div",ut,[(r(!0),u(V,null,C(T.value,t=>(r(),u("div",{key:t.symbol,class:"legend-item"},[e("div",{class:"legend-color",style:D({backgroundColor:t.color})},null,4),e("div",pt,[e("div",vt,s(t.name),1),e("div",_t,[e("span",ht,"$"+s(i(c)(t.value)),1),e("span",ft,"("+s(i(c)(t.percentage))+"%)",1)])])]))),128))])])):(r(),u("div",mt,[l(O,{data:T.value,style:{width:"100%"}},{default:o(()=>[l(h,{prop:"name",label:a.$t("portfolio.asset"),"min-width":"120"},{default:o(({row:t})=>[e("div",gt,[e("div",{class:"asset-color",style:D({backgroundColor:t.color})},null,4),e("div",bt,[e("div",yt,s(t.name),1),e("div",$t,s(t.symbol),1)])])]),_:1},8,["label"]),l(h,{prop:"balance",label:a.$t("portfolio.balance"),"min-width":"120"},{default:o(({row:t})=>[d(s(i(c)(t.balance))+" "+s(t.symbol),1)]),_:1},8,["label"]),l(h,{prop:"value",label:a.$t("portfolio.value"),"min-width":"120"},{default:o(({row:t})=>[d(" $"+s(i(c)(t.value)),1)]),_:1},8,["label"]),l(h,{prop:"percentage",label:a.$t("portfolio.allocation"),"min-width":"100"},{default:o(({row:t})=>[e("div",wt,[e("div",kt,[e("div",{class:"percentage-fill",style:D({width:`${t.percentage}%`,backgroundColor:t.color})},null,4)]),e("span",Pt,s(i(c)(t.percentage))+"%",1)])]),_:1},8,["label"]),l(h,{prop:"change24h",label:a.$t("portfolio.change24h"),"min-width":"100"},{default:o(({row:t})=>[e("div",{class:b(["change-cell",{positive:t.change24h>=0,negative:t.change24h<0}])},[l(_,null,{default:o(()=>[(r(),S(A(t.change24h>=0?"ArrowUp":"ArrowDown")))]),_:2},1024),d(" "+s(i(c)(Math.abs(t.change24h)))+"% ",1)],2)]),_:1},8,["label"])]),_:1},8,["data"])]))])]),e("div",Vt,[e("div",Ct,[e("h2",Bt,s(a.$t("portfolio.performance")),1),e("div",Rt,[l(N,{modelValue:U.value,"onUpdate:modelValue":n[1]||(n[1]=t=>U.value=t),size:"small"},{default:o(()=>[l(f,{label:"7d"},{default:o(()=>n[5]||(n[5]=[d("7D")])),_:1,__:[5]}),l(f,{label:"30d"},{default:o(()=>n[6]||(n[6]=[d("30D")])),_:1,__:[6]}),l(f,{label:"90d"},{default:o(()=>n[7]||(n[7]=[d("90D")])),_:1,__:[7]}),l(f,{label:"1y"},{default:o(()=>n[8]||(n[8]=[d("1Y")])),_:1,__:[8]})]),_:1},8,["modelValue"])])]),e("div",Mt,[e("div",Tt,[(r(),u("svg",zt,[n[9]||(n[9]=e("defs",null,[e("pattern",{id:"grid",width:"80",height:"30",patternUnits:"userSpaceOnUse"},[e("path",{d:"M 80 0 L 0 0 0 30",fill:"none",stroke:"#e5e7eb","stroke-width":"1",opacity:"0.5"})])],-1)),n[10]||(n[10]=e("rect",{width:"100%",height:"100%",fill:"url(#grid)"},null,-1)),e("polyline",{points:X.value,fill:"none",stroke:"#6366f1","stroke-width":"3",class:"transition-all duration-500"},null,8,St),(r(!0),u(V,null,C(H.value,(t,P)=>(r(),u("circle",{key:P,cx:t.x,cy:t.y,r:"4",fill:"#6366f1",class:"transition-all duration-300 hover:r-6"},null,8,At))),128))]))]),e("div",Dt,[e("div",Et,[e("span",Wt,s(a.$t("portfolio.highestValue")),1),e("span",Ut,"$"+s(i(c)(z.value.highest)),1)]),e("div",Ft,[e("span",It,s(a.$t("portfolio.lowestValue")),1),e("span",Ht,"$"+s(i(c)(z.value.lowest)),1)]),e("div",Nt,[e("span",Ot,s(a.$t("portfolio.volatility")),1),e("span",Yt,s(i(c)(z.value.volatility))+"%",1)])])])]),e("div",jt,[e("div",Gt,[e("h2",Lt,s(a.$t("portfolio.holdings")),1),e("div",qt,[l(Y,{modelValue:y.value,"onUpdate:modelValue":n[2]||(n[2]=t=>y.value=t),size:"small"},{default:o(()=>[l(m,{label:a.$t("portfolio.allHoldings"),value:"all"},null,8,["label"]),l(m,{label:a.$t("portfolio.savingsOnly"),value:"savings"},null,8,["label"]),l(m,{label:a.$t("portfolio.bondsOnly"),value:"bonds"},null,8,["label"]),l(m,{label:a.$t("portfolio.wrappedOnly"),value:"wrapped"},null,8,["label"])]),_:1},8,["modelValue"])])]),e("div",Jt,[(r(!0),u(V,null,C(J.value,t=>(r(),u("div",{key:t.id,class:"holding-card"},[e("div",Kt,[e("div",Qt,[e("div",Xt,s(t.name),1),e("div",Zt,[l(j,{type:Z(t.type),size:"small"},{default:o(()=>[d(s(a.$t(`portfolio.${t.type}`)),1)]),_:2},1032,["type"])])]),e("div",xt,[e("div",ea,"$"+s(i(c)(t.value)),1),e("div",{class:b(["value-change",{positive:t.change>=0,negative:t.change<0}])},[l(_,null,{default:o(()=>[(r(),S(A(t.change>=0?"ArrowUp":"ArrowDown")))]),_:2},1024),d(" "+s(i(c)(Math.abs(t.change)))+"% ",1)],2)])]),e("div",ta,[e("div",aa,[e("div",sa,[e("span",la,s(a.$t("portfolio.balance")),1),e("span",oa,s(i(c)(t.balance))+" "+s(t.symbol),1)]),e("div",na,[e("span",ia,s(a.$t("portfolio.avgPrice")),1),e("span",ca,"$"+s(i(c)(t.avgPrice)),1)]),e("div",da,[e("span",ra,s(a.$t("portfolio.currentPrice")),1),e("span",ua,"$"+s(i(c)(t.currentPrice)),1)]),e("div",pa,[e("span",va,s(a.$t("portfolio.pnl")),1),e("span",{class:b(["detail-value",{positive:t.pnl>=0,negative:t.pnl<0}])}," $"+s(i(c)(t.pnl)),3)])]),t.type==="savings"?(r(),u("div",_a,[l(k,{size:"small",onClick:ee},{default:o(()=>[d(s(a.$t("portfolio.manageSavings")),1)]),_:1})])):t.type==="bonds"?(r(),u("div",ha,[l(k,{size:"small",onClick:te},{default:o(()=>[d(s(a.$t("portfolio.manageBonds")),1)]),_:1})])):t.type==="wrapped"?(r(),u("div",fa,[l(k,{size:"small",onClick:ae},{default:o(()=>[d(s(a.$t("portfolio.manageWrap")),1)]),_:1})])):Ce("",!0)])]))),128))])]),e("div",ma,[e("div",ga,[e("h2",ba,s(a.$t("portfolio.transactionHistory")),1),e("div",ya,[l(Y,{modelValue:$.value,"onUpdate:modelValue":n[3]||(n[3]=t=>$.value=t),size:"small"},{default:o(()=>[l(m,{label:a.$t("portfolio.allTransactions"),value:"all"},null,8,["label"]),l(m,{label:a.$t("portfolio.deposits"),value:"deposit"},null,8,["label"]),l(m,{label:a.$t("portfolio.withdrawals"),value:"withdraw"},null,8,["label"]),l(m,{label:a.$t("portfolio.swaps"),value:"swap"},null,8,["label"])]),_:1},8,["modelValue"])])]),e("div",$a,[l(O,{data:K.value,style:{width:"100%"}},{default:o(()=>[l(h,{prop:"type",label:a.$t("portfolio.type"),width:"100"},{default:o(({row:t})=>[l(j,{type:x(t.type),size:"small"},{default:o(()=>[d(s(a.$t(`portfolio.${t.type}`)),1)]),_:2},1032,["type"])]),_:1},8,["label"]),l(h,{prop:"asset",label:a.$t("portfolio.asset"),width:"120"},{default:o(({row:t})=>[e("div",wa,[e("div",ka,s(t.asset),1)])]),_:1},8,["label"]),l(h,{prop:"amount",label:a.$t("portfolio.amount"),width:"150"},{default:o(({row:t})=>[d(s(i(c)(t.amount))+" "+s(t.symbol),1)]),_:1},8,["label"]),l(h,{prop:"value",label:a.$t("portfolio.value"),width:"120"},{default:o(({row:t})=>[d(" $"+s(i(c)(t.value)),1)]),_:1},8,["label"]),l(h,{prop:"timestamp",label:a.$t("portfolio.date"),width:"150"},{default:o(({row:t})=>[d(s(i(Re)(t.timestamp)),1)]),_:1},8,["label"]),l(h,{prop:"hash",label:a.$t("portfolio.txHash"),"min-width":"150"},{default:o(({row:t})=>[l(k,{text:"",size:"small",onClick:P=>se(t.hash)},{default:o(()=>[d(s(t.hash.slice(0,10))+"..."+s(t.hash.slice(-8)),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"]),e("div",Pa,[l(ne,{"current-page":w.value,"onUpdate:currentPage":n[4]||(n[4]=t=>w.value=t),"page-size":M.value,total:q.value,layout:"prev, pager, next",onCurrentChange:le},null,8,["current-page","page-size","total"])])])])])])}}}),Ea=Be(Va,[["__scopeId","data-v-e1d3b87a"]]);export{Ea as default};
//# sourceMappingURL=Portfolio-WfpPnqGq.js.map
