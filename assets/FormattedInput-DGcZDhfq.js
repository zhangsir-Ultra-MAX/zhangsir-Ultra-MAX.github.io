import{d as B,r as m,w as N,b as w,ac as T,ak as _,S as n,J as F,_ as I}from"./index-EBZBD7IP.js";/* empty css                 */import{e as S,f as x}from"./format-DgO97vlP.js";const C=B({__name:"FormattedInput",props:{modelValue:{},placeholder:{default:""},size:{default:"default"},inputClass:{default:""},decimals:{default:6},useAbbreviation:{type:Boolean,default:!0},abbreviationThreshold:{default:1e6},maxDecimals:{default:6}},emits:["update:modelValue","inputChange"],setup(f,{expose:v,emit:h}){const s=f,o=h,r=m(""),l=m(""),i=m(!1),b=e=>{const a=e.trim().toLowerCase(),u=a.match(/^([0-9]*\.?[0-9]+)/);if(!u)return"0";const t=new n(u[1]);return a.includes("t")?t.multipliedBy(new n("1e12")).toString():a.includes("b")?t.multipliedBy(new n("1e9")).toString():a.includes("m")?t.multipliedBy(new n("1e6")).toString():a.includes("k")?t.multipliedBy(new n("1e3")).toString():e},d=e=>{if(!e||e==="0")return"";try{const a=new n(e);return a.isNaN()||a.isZero()?"":s.useAbbreviation&&a.isGreaterThanOrEqualTo(s.abbreviationThreshold)?S(a.toNumber(),2):x(a.toNumber(),s.decimals)}catch{return""}},V=e=>{const u=e.replace(/[^0-9.kmbtKMBT]/g,"").split(".");let t=u[0];u.length>1&&(t+="."+u.slice(1).join(""));const c=t.indexOf(".");c!==-1&&t.length-c-1>s.maxDecimals&&(t=t.substring(0,c+s.maxDecimals+1)),r.value=t;const y=b(t);l.value=y,o("update:modelValue",l.value),o("inputChange",l.value)},g=()=>{if(i.value=!0,l.value)try{const e=new n(l.value);!e.isNaN()&&e.isGreaterThan(0)?r.value=e.toFixed():e.isEqualTo(0)&&(r.value="")}catch{}},p=()=>{if(i.value=!1,l.value)try{const e=new n(l.value);!e.isNaN()&&e.isGreaterThanOrEqualTo(0)&&(r.value=d(l.value))}catch{}};return N(()=>s.modelValue,e=>{const a=typeof e=="number"?e.toString():e;l.value=a,i.value||(r.value=d(a))},{immediate:!0}),v({focus:()=>{},blur:()=>{p()},clear:()=>{r.value="",l.value="",o("update:modelValue","")}}),(e,a)=>{const u=T;return F(),w(u,_({modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=t=>r.value=t),placeholder:e.placeholder,size:e.size,class:e.inputClass,onInput:V,onFocus:g,onBlur:p},e.$attrs),null,16,["modelValue","placeholder","size","class"])}}}),E=I(C,[["__scopeId","data-v-d5fe52ae"]]);export{E as F};
//# sourceMappingURL=FormattedInput-DGcZDhfq.js.map
